{"ast":null,"code":"var _jsxFileName = \"/Users/allurisantoshvarma/Documents/GitHub/The_Rumor_Ha/client/src/pages/Post.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport BackButton from '../components/BackButton';\nimport RoundedInput from '../components/RoundedInput';\nimport RoundedButton from '../components/RoundedButton';\nimport axios from 'axios';\nimport './Post.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Post() {\n  _s();\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [usernames, setUsernames] = useState([]);\n  const [message, setMessage] = useState('');\n  const [isVerified, setIsVerified] = useState(false);\n  const handleVerify = () => {\n    if (username && !usernames.includes(username)) {\n      setIsVerified(true);\n    }\n  };\n  const handleAddUsername = () => {\n    if (username && isVerified && !usernames.includes(username)) {\n      setUsernames([...usernames, username]);\n      setUsername('');\n      setIsVerified(false);\n    }\n  };\n  const handleRemoveUsername = usernameToRemove => {\n    setUsernames(usernames.filter(u => u !== usernameToRemove));\n  };\n  const handlePost = async () => {\n    if (usernames.length > 0 && message) {\n      try {\n        await axios.post('http://localhost:5000/api/rumors', {\n          message,\n          usernames\n        });\n        navigate('/');\n      } catch (error) {\n        console.error('Error posting rumor:', error);\n        alert('Failed to post rumor. Please try again.');\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post-container\",\n    children: [/*#__PURE__*/_jsxDEV(BackButton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"username-input-section\",\n      children: [/*#__PURE__*/_jsxDEV(RoundedInput, {\n        value: username,\n        onChange: e => {\n          setUsername(e.target.value);\n          setIsVerified(false);\n        },\n        placeholder: \"Enter username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(RoundedButton, {\n        onClick: handleVerify,\n        color: isVerified ? \"#10B981\" : \"var(--surface)\",\n        textColor: isVerified ? \"white\" : \"var(--text)\",\n        children: \"Verify\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), isVerified && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-button\",\n        onClick: handleAddUsername,\n        children: \"+\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), usernames.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"usernames-list\",\n      children: usernames.map((name, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"username-tag\",\n        onClick: () => handleRemoveUsername(name),\n        children: name\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: message,\n      onChange: e => setMessage(e.target.value),\n      placeholder: \"Enter your rumor message\",\n      className: \"message-input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(RoundedButton, {\n      onClick: handlePost,\n      color: \"var(--primary)\",\n      disabled: usernames.length === 0 || !message,\n      children: \"Post\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(Post, \"jFVksltiKI4Qix4v8sKJ1lVGAgw=\", false, function () {\n  return [useNavigate];\n});\n_c = Post;\nexport default Post;\nvar _c;\n$RefreshReg$(_c, \"Post\");","map":{"version":3,"names":["React","useState","useNavigate","BackButton","RoundedInput","RoundedButton","axios","jsxDEV","_jsxDEV","Post","_s","navigate","username","setUsername","usernames","setUsernames","message","setMessage","isVerified","setIsVerified","handleVerify","includes","handleAddUsername","handleRemoveUsername","usernameToRemove","filter","u","handlePost","length","post","error","console","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","onClick","color","textColor","map","name","index","disabled","_c","$RefreshReg$"],"sources":["/Users/allurisantoshvarma/Documents/GitHub/The_Rumor_Ha/client/src/pages/Post.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport BackButton from '../components/BackButton';\nimport RoundedInput from '../components/RoundedInput';\nimport RoundedButton from '../components/RoundedButton';\nimport axios from 'axios';\nimport './Post.css';\n\nfunction Post() {\n  const navigate = useNavigate();\n  const [username, setUsername] = useState('');\n  const [usernames, setUsernames] = useState([]);\n  const [message, setMessage] = useState('');\n  const [isVerified, setIsVerified] = useState(false);\n\n  const handleVerify = () => {\n    if (username && !usernames.includes(username)) {\n      setIsVerified(true);\n    }\n  };\n\n  const handleAddUsername = () => {\n    if (username && isVerified && !usernames.includes(username)) {\n      setUsernames([...usernames, username]);\n      setUsername('');\n      setIsVerified(false);\n    }\n  };\n\n  const handleRemoveUsername = (usernameToRemove) => {\n    setUsernames(usernames.filter(u => u !== usernameToRemove));\n  };\n\n  const handlePost = async () => {\n    if (usernames.length > 0 && message) {\n      try {\n        await axios.post('http://localhost:5000/api/rumors', {\n          message,\n          usernames\n        });\n        navigate('/');\n      } catch (error) {\n        console.error('Error posting rumor:', error);\n        alert('Failed to post rumor. Please try again.');\n      }\n    }\n  };\n\n  return (\n    <div className=\"post-container\">\n      <BackButton />\n      <div className=\"username-input-section\">\n        <RoundedInput\n          value={username}\n          onChange={(e) => {\n            setUsername(e.target.value);\n            setIsVerified(false);\n          }}\n          placeholder=\"Enter username\"\n        />\n        <RoundedButton\n          onClick={handleVerify}\n          color={isVerified ? \"#10B981\" : \"var(--surface)\"}\n          textColor={isVerified ? \"white\" : \"var(--text)\"}\n        >\n          Verify\n        </RoundedButton>\n        {isVerified && (\n          <button className=\"add-button\" onClick={handleAddUsername}>\n            +\n          </button>\n        )}\n      </div>\n\n      {usernames.length > 0 && (\n        <div className=\"usernames-list\">\n          {usernames.map((name, index) => (\n            <div\n              key={index}\n              className=\"username-tag\"\n              onClick={() => handleRemoveUsername(name)}\n            >\n              {name}\n            </div>\n          ))}\n        </div>\n      )}\n\n      <textarea\n        value={message}\n        onChange={(e) => setMessage(e.target.value)}\n        placeholder=\"Enter your rumor message\"\n        className=\"message-input\"\n      />\n\n      <RoundedButton\n        onClick={handlePost}\n        color=\"var(--primary)\"\n        disabled={usernames.length === 0 || !message}\n      >\n        Post\n      </RoundedButton>\n    </div>\n  );\n}\n\nexport default Post; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}